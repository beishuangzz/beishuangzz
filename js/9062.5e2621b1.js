"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9062],{59062:function(e,a,l){l.r(a),l.d(a,{default:function(){return i}});var t=[{label:"合同管理",value:"1",children:[{label:"采购合同",value:"1-1",children:[{label:"化工品采购合同",value:"1-1-1"}]},{label:"建筑工程合同",value:"1-2"}]},{label:"公司治理",value:"2",children:[{label:"二级 2-1"}]},{label:"投资管理",value:"3",children:[{label:"二级 2-1"}]},{label:"采购生产",value:"4",children:[{label:"二级 2-1"}]},{label:"工程建设",value:"5",children:[{label:"二级 2-1"}]},{label:"市场营销",value:"6",children:[{label:"二级 2-1"}]},{label:"财务管理",value:"7",children:[{label:"二级 2-1"}]},{label:"知识产权",value:"8",children:[{label:"二级 2-1"}]}],s={total:115,totalPage:12,sortBy:"",page:1,sort:"",items:[{riskBehaviorDetail:"未按照集团有关规定对合同相对方资信、授权和合同条款进行有效审查，或未要求合同相对方提供必要的文件",riskId:"A-01-01-001",riskType:"合规风险",businessDomainSource:"合同管理",riskSource:"合同相对方",riskJudgmentCriteria:["《合同管理规定》第23条","《合同管理规定》第24条"],riskConsequence:"法律责任和国有资产损失风险"},{riskBehaviorDetail:"未按照集团有关规定对合同相对方资信、授权和合同条款进行有效审查，或未要求合同相对方提供必要的文件",riskId:"A-01-01-001",riskType:"合规风险",businessDomainSource:"合同管理",riskSource:"合同相对方",riskJudgmentCriteria:["《合同管理规定》第23条","《合同管理规定》第24条"],riskConsequence:"法律责任和国有资产损失风险"},{riskBehaviorDetail:"未按照集团有关规定对合同相对方资信、授权和合同条款进行有效审查，或未要求合同相对方提供必要的文件",riskId:"A-01-01-001",riskType:"合规风险",businessDomainSource:"合同管理",riskSource:"合同相对方",riskJudgmentCriteria:["《合同管理规定》第23条","《合同管理规定》第24条"],riskConsequence:"法律责任和国有资产损失风险"}],size:10},a={name:"knowledgeRank",extends:l(45488).Z,data:function(){return{form:{riskListType:{dict:[{basename:"合规风险清单",diccode:"riskListType1"},{basename:"法律风险清单",diccode:"riskListType2"},{basename:"财税风险清单",diccode:"riskListType3"},{basename:"业务风险清单",diccode:"riskListType4"},{basename:"战略风险清单",diccode:"riskListType5"}],fieldValue:[],fieldValueType:Array,fieldName:"riskListType",fieldShow:"",fieldType:5,dictCode:"",label:"风险清单类型",pluginType:"CHECKBOX"},businessDomain:{enableFilter:!0,keyword:void 0,treeData:t,fieldValue:"",fieldName:"businessDomain",fieldShow:"",fieldType:"1",label:"业务域",pluginType:"TREE",refName:"tree"},riskBehavior:{fieldValue:"",fieldName:"riskBehavior",fieldType:"",label:"风险行为"},riskNumber:{fieldValue:"",fieldName:"riskNumber",fieldType:"",label:"风险编号"},riskCategory:{fieldValue:"",fieldName:"riskCategory",fieldType:"",label:"风险分类"},riskSource:{fieldValue:"",fieldName:"riskSource",fieldType:"",label:"风险来源"}},tags:[],collapseActiveNames:["1","2"],searchForm:{sortField:"",showMore:!1},infor:{childList:[],rights:0,sql:[],totalPage:1,total:1,page:1,sKey:"",sortName:"",sortBy:"desc",size:10}}},methods:{loadPage:function(){this.createParam(),this.infor=s},jumpTo:function(e){this.$router.replace(e)}},created:function(){},mounted:function(){this.loadPage()}},i=(0,l(1001).Z)(a,function(){var l=this,e=l.$createElement,t=l._self._c||e;return t("div",{staticClass:"list-page"},[t("div",{staticClass:"header"},[t("el-card",{attrs:{shadow:"hover"}},[t("el-form",{attrs:{inline:!0,size:"small","label-width":"100px"}},[t("el-form-item",{attrs:{label:"知识类型"}},[t("el-select",{attrs:{value:"1",placeholder:""}},[t("el-option",{attrs:{label:"合同管理",value:"1"}}),t("el-option",{attrs:{label:"合同审核",value:"2"}})],1)],1),t("el-form-item",{attrs:{label:"时间范围"}},[t("el-select",{attrs:{value:"2020",placeholder:"请选择时间"}},[t("el-option",{attrs:{label:"2020",value:"2020"}}),t("el-option",{attrs:{label:"2021",value:"2021"}}),t("el-option",{attrs:{label:"2022",value:"2022"}})],1)],1)],1)],1)],1),t("el-row",{staticClass:"main-rank-type",attrs:{gutter:5}},[t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"active",attrs:{shadow:"hover"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"el-icon-s-data"})]),t("span",{staticClass:"name"},[l._v("易发风险排行")])])],1),t("el-col",{attrs:{span:12}},[t("el-card",{attrs:{shadow:"hover"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"el-icon-office-building"})]),t("span",{staticClass:"name"},[l._v("知识热度")])])],1)],1),t("div",{staticClass:"sub-rank-type clear-float"},[t("el-card",{staticClass:"active",attrs:{shadow:"hover"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"el-icon-s-data"})]),t("span",{staticClass:"name"},[l._v("高频风险行为排行")])]),t("el-card",{attrs:{shadow:"hover"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"el-icon-s-data"})]),t("span",{staticClass:"name"},[l._v("风险实际发生诱因排行")])]),t("el-card",{attrs:{shadow:"hover"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"el-icon-s-data"})]),t("span",{staticClass:"name"},[l._v("风险来源排行")])]),t("el-card",{attrs:{shadow:"hover"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"el-icon-s-data"})]),t("span",{staticClass:"name"},[l._v("常发不符审查要素排行")])]),t("el-card",{attrs:{shadow:"hover"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"el-icon-s-data"})]),t("span",{staticClass:"name"},[l._v("重点合规控制排行")])])],1),t("left-panel-container",{attrs:{"panel-width":"250px"},scopedSlots:l._u([{key:"panel",fn:function(){return[t("el-form",{ref:"form",staticClass:"side-form",attrs:{"label-width":"0px",size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-collapse",{on:{change:function(e){}},model:{value:l.collapseActiveNames,callback:function(e){l.collapseActiveNames=e},expression:"collapseActiveNames"}},[t("el-collapse-item",{attrs:{title:"风险清单类型",name:"1"}},[t("template",{slot:"title"},[t("h3",[l._v("风险清单类型")])]),[t("el-form-item",[t("el-checkbox-group",{on:{change:l.loadPage},model:{value:l.form.riskListType.fieldValue,callback:function(e){l.$set(l.form.riskListType,"fieldValue",e)},expression:"form.riskListType.fieldValue"}},l._l(l.form.riskListType.dict,function(e,a){return t("el-checkbox",{attrs:{label:e.diccode}},[l._v(" "+l._s(e.basename)+" ")])}),1)],1)]],2),t("el-collapse-item",{attrs:{title:"业务域",name:"2"}},[t("template",{slot:"title"},[t("h3",[l._v("业务域")])]),[t("d-tree",l._b({ref:"tree",on:{"node-click":l.createParam}},"d-tree",l.form.businessDomain,!1,!0))]],2)],1)],1)]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"common-list"},[t("el-form",{attrs:{inline:!0,size:"small","label-width":"100px"}},[t("div",{staticClass:"main-params"},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险行为"}},[t("el-input",{attrs:{clearable:"",placeholder:"输入关键词进行搜索"},model:{value:l.form.riskBehavior.fieldValue,callback:function(e){l.$set(l.form.riskBehavior,"fieldValue",e)},expression:"form.riskBehavior.fieldValue"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险编号"}},[t("el-input",{attrs:{clearable:""},model:{value:l.form.riskNumber.fieldValue,callback:function(e){l.$set(l.form.riskNumber,"fieldValue",e)},expression:"form.riskNumber.fieldValue"}})],1)],1),t("el-col",{staticClass:"button-group",attrs:{span:8}},[t("el-form-item",[t("el-button",{attrs:{icon:"el-icon-download"}},[l._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:l.loadPage}},[l._v("查询")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:l.resetParam}},[l._v("重置")]),t("el-button",{attrs:{type:"text"},on:{click:function(e){l.searchForm.showMore=!l.searchForm.showMore}}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!l.searchForm.showMore,expression:"!searchForm.showMore"}]},[l._v(" 展开"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("span",{directives:[{name:"show",rawName:"v-show",value:l.searchForm.showMore,expression:"searchForm.showMore"}]},[l._v(" 收起"),t("i",{staticClass:"el-icon-arrow-up el-icon--right"})])])],1)],1)],1)],1),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:l.searchForm.showMore,expression:"searchForm.showMore"}]},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险分类"}},[t("el-input",{attrs:{clearable:""},model:{value:l.form.riskCategory.fieldValue,callback:function(e){l.$set(l.form.riskCategory,"fieldValue",e)},expression:"form.riskCategory.fieldValue"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险分类"}},[t("el-input",{attrs:{clearable:""},model:{value:l.form.riskCategory.fieldValue,callback:function(e){l.$set(l.form.riskCategory,"fieldValue",e)},expression:"form.riskCategory.fieldValue"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险来源"}},[t("el-input",{attrs:{clearable:""},model:{value:l.form.riskSource.fieldValue,callback:function(e){l.$set(l.form.riskSource,"fieldValue",e)},expression:"form.riskSource.fieldValue"}})],1)],1)],1)],1)]),t("div",{staticClass:"params-tag"},[0<l.tags.length?t("el-form-item",l._l(l.tags,function(a,e){return t("el-tag",{attrs:{closable:"",type:"info"},on:{close:function(e){return l.closeTag(a.name)}}},[l._v(" "+l._s(a.label)+"："+l._s(a.fieldShow)+" ")])}),1):l._e()],1)],1),t("el-table",{staticClass:"table",attrs:{data:l.infor.items}},[t("el-table-column",{attrs:{fixed:"left",label:l.$t("序号"),width:"80",align:"left"},scopedSlots:l._u([{key:"default",fn:function(e){return[l._v(" "+l._s(e.$index+1+(l.infor.page-1)*l.infor.size)+" ")]}}])}),t("el-table-column",{attrs:{prop:"riskBehaviorDetail",fixed:"left",label:l.$t("风险行为"),"show-tooltip-when-overflow":!0,align:"left",width:"220"}}),t("el-table-column",{attrs:{prop:"riskId",label:l.$t("风险编号"),"show-tooltip-when-overflow":!0,align:"left",width:"160"}}),t("el-table-column",{attrs:{prop:"riskType",label:l.$t("风险分类"),"show-tooltip-when-overflow":!0,align:"left",width:"160"}}),t("el-table-column",{attrs:{prop:"businessDomainSource",label:l.$t("来源业务域"),"show-tooltip-when-overflow":!0,align:"left",width:"160"}}),t("el-table-column",{attrs:{prop:"riskSource",label:l.$t("具体风险来源"),"show-tooltip-when-overflow":!0,align:"left",width:"160"},scopedSlots:l._u([{key:"default",fn:function(e){return[t("span",{staticClass:"column-card risk-source ellipsis"},[l._v(l._s(e.row.riskSource))])]}}])}),t("el-table-column",{attrs:{prop:"riskJudgmentCriteria",label:l.$t("风险判断标准"),align:"left",width:"260"},scopedSlots:l._u([{key:"default",fn:function(e){return l._l(e.row.riskJudgmentCriteria,function(e,a){return t("el-tooltip",{key:a,attrs:{effect:"dark",content:e,placement:"top"}},[t("span",{staticClass:"column-card risk-judgment-criteria ellipsis"},[l._v(l._s(e))])])})}}])}),t("el-table-column",{attrs:{prop:"riskConsequence",label:l.$t("风险后果"),"show-tooltip-when-overflow":!0,align:"left",width:"220"}}),t("el-table-column",{staticClass:"operation-column",attrs:{fixed:"right",label:l.$t("操作"),align:"left",width:"100"},scopedSlots:l._u([{key:"default",fn:function(e){return[t("span",{staticClass:"operation-button detail-button",on:{click:function(e){return l.jumpTo("/legalThinkTank/riskBehaviorDetail")}}},[t("i",{staticClass:"el-icon-more"})]),t("span",{staticClass:"operation-button knowledge-graph-button",on:{click:function(e){return l.jumpTo("/legalThinkTank/riskBehaviorGraph")}}},[t("i",{staticClass:"el-icon-paperclip"})])]}}])})],1),t("pagination",{attrs:{infor:l.infor},on:{listening:l.loadPage}})],1)]},proxy:!0}])})],1)},[],!1,null,"96ce670e",null).exports},45488:function(e,a,l){l.d(a,{Z:function(){return s}});var t={createTags:function(s){var e,i=[];for(e in s)!function(e){var a,l=s[e];if("CHECKBOX"===l.pluginType)0<l.fieldValue.length&&(a=[],l.dict.forEach(function(e){-1<l.fieldValue.indexOf(e.diccode)&&a.push(e.basename)}),l.fieldShow=a.join("，"));else if("RADIO"===l.pluginType){if(l.fieldValue)for(var t=0;t<l.dict.length;t++)if(l.dict[t].diccode===l.fieldValue){l.fieldShow=l.dict[t].basename;break}}else"TREE"!==l.pluginType&&("DATERANGE"===l.pluginType?l.fieldValue&&0<l.fieldValue.length&&(l.fieldShow=l.fieldValue[0]+" 至 "+l.fieldValue[1]):l.fieldShow=l.fieldValue);l.fieldValue&&l.fieldShow&&i.push({name:l.fieldName,label:l.label,fieldShow:l.fieldShow})}(e);return i},removeTag:function(e,a){a=a[e];a.fieldShow="",a.fieldValueType?a.fieldValue=new a.fieldValueType:a.fieldValue=""}},s={name:"listPageBase",data:function(){return{form:{},tags:[],searchForm:{keyword:void 0,sortField:"",showMore:!1},infor:{childList:[],rights:0,sql:[],totalPage:1,total:1,page:1,sKey:"",sortName:"",sortBy:"desc",size:10}}},methods:{loadPage:function(){this.createParam(),this.infor=[]},createParam:function(){this.tags=t.createTags(this.form)},resetParam:function(){var a=this;this.tags.forEach(function(e){t.removeTag(e.name,a.form);e=a.form[e.name];"TREE"===e.pluginType&&a.$refs[e.refName].clear()}),this.createParam()},closeTag:function(e){t.removeTag(e,this.form);e=this.form[e];"TREE"===e.pluginType&&this.$refs[e.refName].clear(),this.createParam()}}}}}]);