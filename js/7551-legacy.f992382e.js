"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7551],{67551:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});a(41539),a(54747),a(69600),a(68309),a(74916),a(15306);var l={total:115,totalPage:12,sortBy:"",page:1,sort:"",items:[{tags:["技术服务类","计算机软件","甲方适用"],title:"中华人民共和国建筑法(2019修正)",source:"范本",normName:"中华人民共和国主席令第29号",org:"全国人民代表大会常务委员会",effectiveDate:"2021-12-12",articleCount:33,relationRiskCount:23,riskIdentificationCount:234,riskOccurrenceCount:123,visitCount:342,type:1,updateDate:"2022-12-12"}],size:10},t={name:"internalOutsideNorm",data:function(){return{form:{internalOutsideNormType:{dict:[{basename:"规则制度",diccode:"1"},{basename:"公司章程",diccode:"2"},{basename:"法律法规",diccode:"3"},{basename:"监管规定",diccode:"4"},{basename:"行业准则",diccode:"5"},{basename:"国际条约",diccode:"6"}],fieldValue:[],fieldValueType:Array,fieldName:"internalOutsideNormType",fieldShow:"",fieldType:5,dictCode:"",label:"内规外规分类",pluginType:"CHECKBOX"},industryType:{dict:[{basename:"金融行业",diccode:"1"},{basename:"建筑行业",diccode:"2"},{basename:"贸易行业",diccode:"3"}],fieldValue:[],fieldValueType:Array,fieldName:"industryType",fieldShow:"",fieldType:5,dictCode:"",label:"行业分类",pluginType:"CHECKBOX"},contractName:{fieldValue:"",fieldName:"contractName",fieldType:"",label:"合同名称"},riskNumber:{fieldValue:"",fieldName:"riskNumber",fieldType:"",label:"风险编号"},riskSource:{fieldValue:"",fieldName:"riskSource",fieldType:"",label:"风险来源"},ourIdentity:{fieldValue:"",fieldName:"ourIdentity",fieldType:"",label:"我方身份"}},tags:[],collapseActiveNames:["1","2"],searchForm:{keyword:void 0,sortField:"",showMore:!1},infor:{childList:[],rights:0,sql:[],totalPage:1,total:1,page:1,sKey:"",sortName:"",sortBy:"desc",size:10}}},methods:{loadPage:function(){this.createParam(),this.infor=l},createParam:function(){var t,a,e,l=this;for(e in this.tags=[],this.$common.searchLoadPage(this.infor,this.form),this.$common.searchShowNameFormat(this.form),0<this.form.internalOutsideNormType.fieldValue.length&&(t=[],this.form.internalOutsideNormType.dict.forEach(function(e){-1<l.form.internalOutsideNormType.fieldValue.indexOf(e.diccode)&&t.push(e.basename)}),this.form.internalOutsideNormType.fieldShow=t.join("，")),0<this.form.industryType.fieldValue.length&&(a=[],this.form.industryType.dict.forEach(function(e){-1<l.form.industryType.fieldValue.indexOf(e.diccode)&&a.push(e.basename)}),this.form.industryType.fieldShow=a.join("，")),this.form){var i=this.form[e];i.fieldValue&&i.fieldShow&&this.tags.push({name:i.fieldName,label:i.label,fieldShow:i.fieldShow})}},resetParam:function(){var t=this;this.tags.forEach(function(e){t.closeTag(e.name)})},closeTag:function(e){e=this.form[e];e.fieldShow="",e.fieldValueType?e.fieldValue=new e.fieldValueType:e.fieldValue="",this.createParam()},jumpTo:function(e){this.$router.replace(e)}},created:function(){},mounted:function(){this.loadPage()}},i=(0,a(1001).Z)(t,function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("div",{staticClass:"list-page knowledge-graph"},[l("left-panel-container",{attrs:{"panel-width":"250px"},scopedSlots:a._u([{key:"panel",fn:function(){return[l("el-scrollbar",{staticClass:"y-box"},[l("el-form",{ref:"form",staticClass:"side-form",attrs:{"label-width":"0px",size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[l("el-collapse",{on:{change:function(e){}},model:{value:a.collapseActiveNames,callback:function(e){a.collapseActiveNames=e},expression:"collapseActiveNames"}},[l("el-collapse-item",{attrs:{title:"内规外规分类",name:"1"}},[l("template",{slot:"title"},[l("h3",[a._v("内规外规分类")])]),[l("el-form-item",[l("el-checkbox-group",{on:{change:a.loadPage},model:{value:a.form.internalOutsideNormType.fieldValue,callback:function(e){a.$set(a.form.internalOutsideNormType,"fieldValue",e)},expression:"form.internalOutsideNormType.fieldValue"}},a._l(a.form.internalOutsideNormType.dict,function(e,t){return l("el-checkbox",{attrs:{label:e.diccode}},[a._v(" "+a._s(e.basename)+" ")])}),1)],1)]],2),l("el-collapse-item",{attrs:{title:"行业分类",name:"2"}},[l("template",{slot:"title"},[l("h3",[a._v("行业分类")])]),[l("el-form-item",[l("el-checkbox-group",{on:{change:a.loadPage},model:{value:a.form.industryType.fieldValue,callback:function(e){a.$set(a.form.industryType,"fieldValue",e)},expression:"form.industryType.fieldValue"}},a._l(a.form.industryType.dict,function(e,t){return l("el-checkbox",{attrs:{label:e.diccode}},[a._v(" "+a._s(e.basename)+" ")])}),1)],1)]],2)],1)],1)],1)]},proxy:!0},{key:"default",fn:function(){return[l("div",{staticClass:"common-list"},[l("el-form",{attrs:{inline:!0,size:"small","label-width":"100px"}},[l("div",{staticClass:"main-params"},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"合同名称"}},[l("el-input",{attrs:{clearable:""},model:{value:a.form.contractName.fieldValue,callback:function(e){a.$set(a.form.contractName,"fieldValue",e)},expression:"form.contractName.fieldValue"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"风险编号"}},[l("el-input",{attrs:{clearable:""},model:{value:a.form.riskNumber.fieldValue,callback:function(e){a.$set(a.form.riskNumber,"fieldValue",e)},expression:"form.riskNumber.fieldValue"}})],1)],1),l("el-col",{staticClass:"button-group",attrs:{span:8}},[l("el-form-item",[l("el-button",{attrs:{icon:"el-icon-download"}},[a._v("导出")]),l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:a.loadPage}},[a._v("查询")]),l("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:a.resetParam}},[a._v("重置")]),l("el-button",{attrs:{type:"text"},on:{click:function(e){a.searchForm.showMore=!a.searchForm.showMore}}},[l("span",{directives:[{name:"show",rawName:"v-show",value:!a.searchForm.showMore,expression:"!searchForm.showMore"}]},[a._v(" 展开"),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),l("span",{directives:[{name:"show",rawName:"v-show",value:a.searchForm.showMore,expression:"searchForm.showMore"}]},[a._v(" 收起"),l("i",{staticClass:"el-icon-arrow-up el-icon--right"})])])],1)],1)],1)],1),l("el-collapse-transition",[l("div",{directives:[{name:"show",rawName:"v-show",value:a.searchForm.showMore,expression:"searchForm.showMore"}]},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"风险来源"}},[l("el-input",{attrs:{clearable:""},model:{value:a.form.riskSource.fieldValue,callback:function(e){a.$set(a.form.riskSource,"fieldValue",e)},expression:"form.riskSource.fieldValue"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"我方身份"}},[l("el-input",{attrs:{clearable:""},model:{value:a.form.ourIdentity.fieldValue,callback:function(e){a.$set(a.form.ourIdentity,"fieldValue",e)},expression:"form.ourIdentity.fieldValue"}})],1)],1)],1)],1)]),l("div",{staticClass:"params-tag"},[0<a.tags.length?l("el-form-item",a._l(a.tags,function(t,e){return l("el-tag",{attrs:{closable:"",type:"info",size:"small"},on:{close:function(e){return a.closeTag(t.name)}}},[a._v(" "+a._s(t.label)+"："+a._s(t.fieldShow)+" ")])}),1):a._e()],1)],1),l("el-table",{staticClass:"table",attrs:{data:a.infor.items,"show-header":!1}},[l("el-table-column",{attrs:{align:"left","min-width":"90%"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("div",{staticClass:"header"},[l("router-link",{attrs:{to:"/xxx",replace:""}},[a._v(" "+a._s(e.row.title)+" ")]),a._v("   "),a._l(e.row.tags,function(e,t){return l("el-tag",{attrs:{type:"info",effect:"plain",size:"small"}},[a._v(" "+a._s(e)+" ")])})],2),l("div",{staticClass:"relation"},[a._v(" "+a._s(e.row.normName)+" / "+a._s(e.row.org)+" / "+a._s(e.row.effectiveDate)+"生效 / "+a._s(e.row.articleCount)+"条条文 / "+a._s(e.row.relationRiskCount)+"个关联风险行为 / "+a._s(e.row.riskIdentificationCount)+"次风险行为识别 / "+a._s(e.row.riskOccurrenceCount)+"次风险实际发生 ")])]}}])}),l("el-table-column",{attrs:{label:a.$t("操作"),align:"center","min-width":"10%"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("span",{staticClass:"operation-button detail-button",on:{click:function(e){return a.jumpTo("/legalThinkTank/internalOutsideNormDetail")}}},[l("i",{staticClass:"el-icon-more"})]),l("span",{staticClass:"operation-button knowledge-graph-button"},[l("i",{staticClass:"el-icon-paperclip"})])]}}])})],1),l("pagination",{attrs:{infor:a.infor},on:{listening:a.loadPage}})],1)]},proxy:!0}])})],1)},[],!1,null,"63f5d01e",null).exports}}]);