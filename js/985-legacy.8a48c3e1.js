"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[985],{40985:function(e,l,a){a.r(l),a.d(l,{default:function(){return r}});a(74916),a(15306);var t=[{label:"合同管理",value:"1",children:[{label:"采购合同",value:"1-1",children:[{label:"化工品采购合同",value:"1-1-1"}]},{label:"建筑工程合同",value:"1-2"}]},{label:"公司治理",value:"2",children:[{label:"二级 2-1"}]},{label:"投资管理",value:"3",children:[{label:"二级 2-1"}]},{label:"采购生产",value:"4",children:[{label:"二级 2-1"}]},{label:"工程建设",value:"5",children:[{label:"二级 2-1"}]},{label:"市场营销",value:"6",children:[{label:"二级 2-1"}]},{label:"财务管理",value:"7",children:[{label:"二级 2-1"}]},{label:"知识产权",value:"8",children:[{label:"二级 2-1"}]}],i=[{id:1,businessDomain:"合同管理",contractTemplate:23,specificationClause:343,riskBehavior:122,reviewElement:23,inOutRule:32,classicCase:321,riskBehaviorExample:83,riskContractExample:53,riskSourceExample:53,nonConformanceReviewElementExample:42,nonComplianceBasis:52,riskOccurrenceExample:52,hasChildren:!0}],l={name:"businessDomainList",extends:a(45488).Z,data:function(){return{activeName:"1",form:{businessDomain:{enableFilter:!0,keyword:void 0,treeData:t,fieldValue:"",fieldName:"businessDomain",fieldShow:"",fieldType:"1",label:"业务域",pluginType:"TREE",refName:"tree"},contractName:{fieldValue:"",fieldName:"contractName",fieldType:"",label:"合同名称"},riskNumber:{fieldValue:"",fieldName:"riskNumber",fieldType:"",label:"风险编号"},riskType:{fieldValue:"",fieldName:"riskType",fieldType:"",label:"风险分类"},riskSource:{fieldValue:"",fieldName:"riskSource",fieldType:"",label:"风险来源"},ourIdentity:{fieldValue:"",fieldName:"ourIdentity",fieldType:"",label:"我方身份"}},tags:[],collapseActiveNames:["1"],searchForm:{keyword:void 0,sortField:"",showMore:!1},infor:{items:[],rights:0,sql:[],totalPage:1,total:1,page:1,sKey:"",sortName:"",sortBy:"desc",size:10}}},methods:{loadPage:function(){this.createParam(),this.infor.items=i},loadChildren:function(e,l,a){var t=this;this.id||(this.id=100),this.id++,setTimeout(function(){a([{id:t.id,businessDomain:"采购合同",contractTemplate:23,specificationClause:343},{id:t.id,businessDomain:"建筑工程合同",contractTemplate:23,specificationClause:343}])},400)},jumpTo:function(e){this.$router.replace(e)}},created:function(){},mounted:function(){this.loadPage()}},r=(0,a(1001).Z)(l,function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"business-domain-list"},[t("el-tabs",{attrs:{type:"border-card"},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"合同关联",name:"1"}},[t("div",{staticClass:"list-page"},[t("left-panel-container",{attrs:{"panel-width":"250px"},scopedSlots:a._u([{key:"panel",fn:function(){return[t("el-scrollbar",{staticClass:"y-box"},[t("el-form",{ref:"form",staticClass:"side-form",attrs:{"label-width":"0px",size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-collapse",{on:{change:function(e){}},model:{value:a.collapseActiveNames,callback:function(e){a.collapseActiveNames=e},expression:"collapseActiveNames"}},[t("el-collapse-item",{attrs:{title:"",name:"1"}},[t("template",{slot:"title"},[t("h3",[a._v("业务域")])]),[t("d-tree",a._b({ref:"tree",on:{"node-click":a.createParam}},"d-tree",a.form.businessDomain,!1,!0))]],2)],1)],1)],1)]},proxy:!0},{key:"default",fn:function(){return[t("div",{staticClass:"common-list"},[t("el-form",{attrs:{inline:!0,size:"small","label-width":"100px"}},[t("div",{staticClass:"main-params"},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"合同名称"}},[t("el-input",{attrs:{clearable:""},model:{value:a.form.contractName.fieldValue,callback:function(e){a.$set(a.form.contractName,"fieldValue",e)},expression:"form.contractName.fieldValue"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险编号"}},[t("el-input",{attrs:{clearable:""},model:{value:a.form.riskNumber.fieldValue,callback:function(e){a.$set(a.form.riskNumber,"fieldValue",e)},expression:"form.riskNumber.fieldValue"}})],1)],1),t("el-col",{staticClass:"button-group",attrs:{span:8}},[t("el-form-item",[t("el-button",{attrs:{icon:"el-icon-download"}},[a._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:a.loadPage}},[a._v("查询")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:a.resetParam}},[a._v("重置")]),t("el-button",{attrs:{type:"text"},on:{click:function(e){a.searchForm.showMore=!a.searchForm.showMore}}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!a.searchForm.showMore,expression:"!searchForm.showMore"}]},[a._v(" 展开"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("span",{directives:[{name:"show",rawName:"v-show",value:a.searchForm.showMore,expression:"searchForm.showMore"}]},[a._v(" 收起"),t("i",{staticClass:"el-icon-arrow-up el-icon--right"})])])],1)],1)],1)],1),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:a.searchForm.showMore,expression:"searchForm.showMore"}]},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险分类"}},[t("el-input",{attrs:{clearable:""},model:{value:a.form.riskType.fieldValue,callback:function(e){a.$set(a.form.riskType,"fieldValue",e)},expression:"form.riskType.fieldValue"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"风险来源"}},[t("el-input",{attrs:{clearable:""},model:{value:a.form.riskSource.fieldValue,callback:function(e){a.$set(a.form.riskSource,"fieldValue",e)},expression:"form.riskSource.fieldValue"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"我方身份"}},[t("el-input",{attrs:{clearable:""},model:{value:a.form.ourIdentity.fieldValue,callback:function(e){a.$set(a.form.ourIdentity,"fieldValue",e)},expression:"form.ourIdentity.fieldValue"}})],1)],1)],1)],1)]),t("div",{staticClass:"params-tag"},[0<a.tags.length?t("el-form-item",a._l(a.tags,function(l,e){return t("el-tag",{attrs:{closable:"",type:"info"},on:{close:function(e){return a.closeTag(l.name)}}},[a._v(" "+a._s(l.label)+"："+a._s(l.fieldShow)+" ")])}),1):a._e()],1)],1),t("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:a.infor.items,"row-key":"id",border:"",lazy:"",load:a.loadChildren,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[t("el-table-column",{attrs:{prop:"businessDomain",fixed:"left",label:"业务域","min-width":"220"}}),t("el-table-column",{attrs:{prop:"contractTemplate",label:"合同范本(份)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"specificationClause",label:"规范条款(条)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"riskBehavior",label:"风险行为(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"reviewElement",label:"审查要素(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"inOutRule",label:"内规外规(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"classicCase",label:"典型案例(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"riskBehaviorExample",label:"风险行为实例(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"riskContractExample",label:"风险合同实例(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"riskSourceExample",label:"风险来源实例(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"nonConformanceReviewElementExample",label:"不符审查要素实例(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"nonComplianceBasis",label:"不合规行为依据(个)","min-width":"120"}}),t("el-table-column",{attrs:{prop:"riskOccurrenceExample",label:"风险发生实例(个)","min-width":"120"}})],1)],1)]},proxy:!0}])})],1)]),t("el-tab-pane",{attrs:{label:"公司治理",name:"2"}}),t("el-tab-pane",{attrs:{label:"投资管理",name:"3"}}),t("el-tab-pane",{attrs:{label:"采购生产",name:"4"}}),t("el-tab-pane",{attrs:{label:"工程建设",name:"5"}}),t("el-tab-pane",{attrs:{label:"市场营销",name:"6"}}),t("el-tab-pane",{attrs:{label:"财务管理",name:"7"}}),t("el-tab-pane",{attrs:{label:"知识产权",name:"8"}})],1)],1)},[],!1,null,"54c88585",null).exports},45488:function(e,l,a){a.d(l,{Z:function(){return i}});a(41539),a(54747),a(68309),a(69600);var t={createTags:function(i){var e,r=[];for(e in i)!function(e){var l,a=i[e];if("CHECKBOX"===a.pluginType)0<a.fieldValue.length&&(l=[],a.dict.forEach(function(e){-1<a.fieldValue.indexOf(e.diccode)&&l.push(e.basename)}),a.fieldShow=l.join("，"));else if("RADIO"===a.pluginType){if(a.fieldValue)for(var t=0;t<a.dict.length;t++)if(a.dict[t].diccode===a.fieldValue){a.fieldShow=a.dict[t].basename;break}}else"TREE"!==a.pluginType&&("DATERANGE"===a.pluginType?a.fieldValue&&0<a.fieldValue.length&&(a.fieldShow=a.fieldValue[0]+" 至 "+a.fieldValue[1]):a.fieldShow=a.fieldValue);a.fieldValue&&a.fieldShow&&r.push({name:a.fieldName,label:a.label,fieldShow:a.fieldShow})}(e);return r},removeTag:function(e,l){l=l[e];l.fieldShow="",l.fieldValueType?l.fieldValue=new l.fieldValueType:l.fieldValue=""}},i={name:"listPageBase",data:function(){return{form:{},tags:[],searchForm:{keyword:void 0,sortField:"",showMore:!1},infor:{childList:[],rights:0,sql:[],totalPage:1,total:1,page:1,sKey:"",sortName:"",sortBy:"desc",size:10}}},methods:{loadPage:function(){this.createParam(),this.infor=[]},createParam:function(){this.tags=t.createTags(this.form)},resetParam:function(){var l=this;this.tags.forEach(function(e){t.removeTag(e.name,l.form);e=l.form[e.name];"TREE"===e.pluginType&&l.$refs[e.refName].clear()}),this.createParam()},closeTag:function(e){t.removeTag(e,this.form);e=this.form[e];"TREE"===e.pluginType&&this.$refs[e.refName].clear(),this.createParam()}}}}}]);