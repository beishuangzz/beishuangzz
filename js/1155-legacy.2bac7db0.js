"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1155],{41155:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});a(74916),a(15306);var l=[{label:"全部",value:"0",children:[{label:"归纳知识实体",value:"1",children:[{label:"业务域",value:"1-1"},{label:"合同范本",value:"1-2"},{label:"风险行为",value:"1-3"},{label:"审查要素",value:"1-4"}]},{label:"风险实例实体",value:"2",children:[{label:"风险合同实体",value:"2-1"}]},{label:"组织机构实体",value:"3",children:[{label:"我方实体",value:"3-1"},{label:"对方实体",value:"3-2"}]}]}],i={total:115,totalPage:12,sortBy:"",page:1,sort:"",items:[{entityType:"合同范本",entityNumber:"fb-4343",entityName:"买卖合同范本",relatedEntityTypeCount:343,relatedEntityCount:343,createDate:"2022-12-12",handleDate:"2022-12-12"},{entityType:"合同范本",entityNumber:"fb-4343",entityName:"买卖合同范本",relatedEntityTypeCount:343,relatedEntityCount:343,createDate:"2022-12-12",handleDate:"2022-12-12"},{entityType:"合同范本",entityNumber:"fb-4343",entityName:"买卖合同范本",relatedEntityTypeCount:343,relatedEntityCount:343,createDate:"2022-12-12",handleDate:"2022-12-12"},{entityType:"合同范本",entityNumber:"fb-4343",entityName:"买卖合同范本",relatedEntityTypeCount:343,relatedEntityCount:343,createDate:"2022-12-12",handleDate:"2022-12-12"},{entityType:"合同范本",entityNumber:"fb-4343",entityName:"买卖合同范本",relatedEntityTypeCount:343,relatedEntityCount:343,createDate:"2022-12-12",handleDate:"2022-12-12"}],size:10},t={name:"tagManagementCenter",extends:a(45488).Z,data:function(){return{form:{entityStateType:{dict:[{basename:"新增未处理",diccode:"type1"},{basename:"实体回收站",diccode:"type2"}],fieldValue:void 0,fieldValueType:Array,fieldName:"entityStateType",fieldShow:"",fieldType:3,dictCode:"",label:"未处理实体",pluginType:"RADIO"},relatedEntity:{enableFilter:!0,keyword:void 0,treeData:l,fieldValue:"",fieldName:"relatedEntity",fieldShow:"",fieldType:"1",label:"已关联实体",pluginType:"TREE",refName:"tree"},entityName:{fieldValue:"",fieldName:"entityName",fieldType:"",label:"实体名称"},entityNumber:{fieldValue:"",fieldName:"entityNumber",fieldType:"",label:"实体编号"},contributeDate:{fieldValue:"",fieldValueType:Array,fieldName:"contributeDate",fieldType:"",label:"创建日期",pluginType:"DATERANGE",valueFormat:"yyyy-MM-dd"}},tags:[],collapseActiveNames:["1","2"],searchForm:{keyword:void 0,sortField:"",showMore:!1},infor:{childList:[],rights:0,sql:[],totalPage:1,total:1,page:1,sKey:"",sortName:"",sortBy:"desc",size:10}}},methods:{loadPage:function(){this.createParam(),this.infor=i},jumpTo:function(e){this.$router.replace(e)}},created:function(){},mounted:function(){this.loadPage()}},o=(0,a(1001).Z)(t,function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("div",{staticClass:"list-page tag-management-center"},[l("left-panel-container",{attrs:{"panel-width":"250px"},scopedSlots:a._u([{key:"panel",fn:function(){return[l("el-scrollbar",{staticClass:"y-box"},[l("el-form",{ref:"form",staticClass:"side-form",attrs:{"label-width":"0px",size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[l("el-collapse",{on:{change:function(e){}},model:{value:a.collapseActiveNames,callback:function(e){a.collapseActiveNames=e},expression:"collapseActiveNames"}},[l("el-collapse-item",{attrs:{title:"未处理实体",name:"1"}},[l("template",{slot:"title"},[l("h3",[a._v("未处理实体")])]),[l("el-form-item",[l("el-radio-group",{on:{change:a.loadPage},model:{value:a.form.entityStateType.fieldValue,callback:function(e){a.$set(a.form.entityStateType,"fieldValue",e)},expression:"form.entityStateType.fieldValue"}},a._l(a.form.entityStateType.dict,function(e,t){return l("el-radio",{attrs:{label:e.diccode}},[a._v(" "+a._s(e.basename)+" ")])}),1)],1)]],2),l("el-collapse-item",{attrs:{title:"已关联实体",name:"2"}},[l("template",{slot:"title"},[l("h3",[a._v("已关联实体")])]),[l("d-tree",a._b({ref:"tree",on:{"node-click":a.createParam}},"d-tree",a.form.relatedEntity,!1,!0))]],2)],1)],1)],1)]},proxy:!0},{key:"default",fn:function(){return[l("div",{staticClass:"common-list"},[l("el-form",{attrs:{inline:!0,size:"small","label-width":"100px"}},[l("div",{staticClass:"main-params"},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"实体名称"}},[l("el-input",{attrs:{clearable:""},model:{value:a.form.entityName.fieldValue,callback:function(e){a.$set(a.form.entityName,"fieldValue",e)},expression:"form.entityName.fieldValue"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"实体编号"}},[l("el-input",{attrs:{clearable:""},model:{value:a.form.entityNumber.fieldValue,callback:function(e){a.$set(a.form.entityNumber,"fieldValue",e)},expression:"form.entityNumber.fieldValue"}})],1)],1),l("el-col",{staticClass:"button-group",attrs:{span:8}},[l("el-form-item",[l("el-button",{attrs:{icon:"el-icon-download"}},[a._v("导出")]),l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:a.loadPage}},[a._v("查询")]),l("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:a.resetParam}},[a._v("重置")]),l("el-button",{attrs:{type:"text"},on:{click:function(e){a.searchForm.showMore=!a.searchForm.showMore}}},[l("span",{directives:[{name:"show",rawName:"v-show",value:!a.searchForm.showMore,expression:"!searchForm.showMore"}]},[a._v(" 展开"),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),l("span",{directives:[{name:"show",rawName:"v-show",value:a.searchForm.showMore,expression:"searchForm.showMore"}]},[a._v(" 收起"),l("i",{staticClass:"el-icon-arrow-up el-icon--right"})])])],1)],1)],1)],1),l("el-collapse-transition",[l("div",{directives:[{name:"show",rawName:"v-show",value:a.searchForm.showMore,expression:"searchForm.showMore"}]},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"创建日期"}},[l("el-date-picker",{attrs:{type:"daterange","value-format":a.form.contributeDate.valueFormat,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:a.form.contributeDate.fieldValue,callback:function(e){a.$set(a.form.contributeDate,"fieldValue",e)},expression:"form.contributeDate.fieldValue"}})],1)],1)],1)],1)]),l("div",{staticClass:"params-tag"},[0<a.tags.length?l("el-form-item",a._l(a.tags,function(t,e){return l("el-tag",{attrs:{closable:"",type:"info"},on:{close:function(e){return a.closeTag(t.name)}}},[a._v(" "+a._s(t.label)+"："+a._s(t.fieldShow)+" ")])}),1):a._e()],1)],1),l("el-table",{staticClass:"table",attrs:{data:a.infor.items}},[l("el-table-column",{attrs:{label:a.$t("序号"),width:"80",align:"left"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v(" "+a._s(e.$index+1+(a.infor.page-1)*a.infor.size)+" ")]}}])}),l("el-table-column",{attrs:{prop:"entityType",label:a.$t("实体类型"),"show-tooltip-when-overflow":!1,align:"left","min-width":"120"}}),l("el-table-column",{attrs:{prop:"entityNumber",label:a.$t("实体编号"),"show-tooltip-when-overflow":!1,align:"left","min-width":"120"}}),l("el-table-column",{attrs:{prop:"entityName",label:a.$t("实体名称"),"show-tooltip-when-overflow":!1,align:"left","min-width":"120"}}),l("el-table-column",{attrs:{prop:"relatedEntityTypeCount",label:a.$t("已关联实体种类"),"show-tooltip-when-overflow":!1,align:"left","min-width":"120"}}),l("el-table-column",{attrs:{prop:"relatedEntityCount",label:a.$t("已关联实体数量"),"show-tooltip-when-overflow":!1,align:"left","min-width":"120"}}),l("el-table-column",{attrs:{prop:"createDate",label:a.$t("创建日期"),"show-tooltip-when-overflow":!1,align:"left","min-width":"120"}}),l("el-table-column",{attrs:{prop:"handleDate",label:a.$t("处理日期"),"show-tooltip-when-overflow":!1,align:"left","min-width":"120"}}),l("el-table-column",{staticClass:"operation-column",attrs:{label:a.$t("操作"),align:"left",width:"160"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-dropdown",{attrs:{size:"small","split-button":"",type:"primary"}},[a._v(" 处理 "),l("el-dropdown-menu",{staticClass:"list-dropdown-button",attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",[l("div",[a._v("删除")])]),l("el-dropdown-item",[l("div",[a._v("变更")])])],1)],1)]}}])})],1),l("pagination",{attrs:{infor:a.infor},on:{listening:a.loadPage}})],1)]},proxy:!0}])})],1)},[],!1,null,"43b7fced",null).exports},45488:function(e,t,a){a.d(t,{Z:function(){return i}});a(41539),a(54747),a(68309),a(69600);var l={createTags:function(i){var e,o=[];for(e in i)!function(e){var t,a=i[e];if("CHECKBOX"===a.pluginType)0<a.fieldValue.length&&(t=[],a.dict.forEach(function(e){-1<a.fieldValue.indexOf(e.diccode)&&t.push(e.basename)}),a.fieldShow=t.join("，"));else if("RADIO"===a.pluginType){if(a.fieldValue)for(var l=0;l<a.dict.length;l++)if(a.dict[l].diccode===a.fieldValue){a.fieldShow=a.dict[l].basename;break}}else"TREE"!==a.pluginType&&("DATERANGE"===a.pluginType?a.fieldValue&&0<a.fieldValue.length&&(a.fieldShow=a.fieldValue[0]+" 至 "+a.fieldValue[1]):a.fieldShow=a.fieldValue);a.fieldValue&&a.fieldShow&&o.push({name:a.fieldName,label:a.label,fieldShow:a.fieldShow})}(e);return o},removeTag:function(e,t){t=t[e];t.fieldShow="",t.fieldValueType?t.fieldValue=new t.fieldValueType:t.fieldValue=""}},i={name:"listPageBase",data:function(){return{form:{},tags:[],searchForm:{keyword:void 0,sortField:"",showMore:!1},infor:{childList:[],rights:0,sql:[],totalPage:1,total:1,page:1,sKey:"",sortName:"",sortBy:"desc",size:10}}},methods:{loadPage:function(){this.createParam(),this.infor=[]},createParam:function(){this.tags=l.createTags(this.form)},resetParam:function(){var t=this;this.tags.forEach(function(e){l.removeTag(e.name,t.form);e=t.form[e.name];"TREE"===e.pluginType&&t.$refs[e.refName].clear()}),this.createParam()},closeTag:function(e){l.removeTag(e,this.form);e=this.form[e];"TREE"===e.pluginType&&this.$refs[e.refName].clear(),this.createParam()}}}}}]);